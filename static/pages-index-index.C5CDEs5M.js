import{r as a,k as e,a as s,w as t,i as l,o as i,b as c,d as o,e as n,f as r,t as u,S as d,l as g,m as f,F as m,p as h,q as _,u as p,v,x as b,s as k,y,g as C,h as x,j}from"./index-DjgUAJ8w.js";import{i as w}from"./auth.BWLwh_nR.js";import{C as F}from"./index.dnR_Pn36.js";import{_ as E}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./api.BPvK5VrC.js";const S="/static/logo.png",q="/static/logo.png",z=E({__name:"index",setup(E){const z=a(3),A=a(!1),B=a([{title:"æŽ¨èåˆä½œçƒæˆ¿",desc:"ç²¾é€‰ä¼˜è´¨çƒæˆ¿ï¼Œäº«å—ä¸“ä¸šæœåŠ¡",bgColor:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",type:"billiards"},{title:"çƒ­é—¨æ´»åŠ¨",desc:"é™æ—¶ä¼˜æƒ ï¼Œç²¾å½©ä¸å®¹é”™è¿‡",bgColor:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",type:"activity"},{title:"æ–°æ‰‹ç¦åˆ©",desc:"æ³¨å†Œå³é€ï¼Œå¼€å¯ä½ çš„ç²¾å½©ä¸€æ†",bgColor:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",type:"welfare"}]),D=a([{id:1,image:S,avatar:q,username:"çƒå‹A",likes:128,comments:23,height:480},{id:2,image:S,avatar:q,username:"çƒå‹B",likes:256,comments:45,height:560},{id:3,image:S,avatar:q,username:"çƒå‹C",likes:89,comments:12,height:420},{id:4,image:S,avatar:q,username:"çƒå‹D",likes:342,comments:67,height:500},{id:5,image:S,avatar:q,username:"çƒå‹E",likes:156,comments:34,height:440},{id:6,image:S,avatar:q,username:"çƒå‹F",likes:278,comments:56,height:580}]),H=a=>a>=1e4?(a/1e4).toFixed(1)+"w":a>=1e3?(a/1e3).toFixed(1)+"k":a.toString(),I=(a,e,s)=>{console.warn("å›¾ç‰‡åŠ è½½å¤±è´¥:",a,e,s),"image"===s?e.image=S:"avatar"===s&&(e.avatar=q)},$=()=>{k({title:"æ¶ˆæ¯é€šçŸ¥",icon:"none"})},G=()=>{k({title:"å®¢æˆ·æœåŠ¡",icon:"none"})},J=()=>{y({success:a=>{k({title:"æ‰«ç æˆåŠŸ",icon:"success"})},fail:a=>{k({title:"æ‰«ç å¤±è´¥",icon:"none"})}})},K=()=>{b({url:"/pages/highlights/highlights"})},L=()=>{A.value=w()},M=async()=>{try{return C({title:"å¾®ä¿¡ç™»å½•ä¸­...",mask:!0}),void b({url:"/pages/login/login"})}catch(a){x(),console.error("å¾®ä¿¡ç™»å½•å¤±è´¥:",a);let e="å¾®ä¿¡ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•";if(a.message){if(a.message.includes("H5çŽ¯å¢ƒ")||a.message.includes("æš‚ä¸æ”¯æŒ"))return void b({url:"/pages/login/login"});e=a.message}k({title:e,icon:"none",duration:2e3})}};return e(()=>{L()}),(a,e)=>{const b=o,y=l,C=_,x=g,w=v,E=d;return i(),s(y,{class:"home-container"},{default:t(()=>[c(y,{class:"top-bar"},{default:t(()=>[c(y,{class:"top-left"},{default:t(()=>[c(y,{class:"highlights-btn",onClick:K},{default:t(()=>[c(b,{class:"highlights-icon"},{default:t(()=>[n("ðŸŽ¬")]),_:1}),c(b,{class:"highlights-text"},{default:t(()=>[n("é›†é”¦")]),_:1})]),_:1})]),_:1}),c(y,{class:"top-right"},{default:t(()=>[c(y,{class:"icon-btn",onClick:$},{default:t(()=>[c(b,{class:"icon"},{default:t(()=>[n("ðŸ””")]),_:1}),z.value>0?(i(),s(y,{key:0,class:"badge"},{default:t(()=>[n(u(z.value>99?"99+":z.value),1)]),_:1})):r("",!0)]),_:1}),c(y,{class:"icon-btn scan-btn",onClick:J},{default:t(()=>[c(b,{class:"icon"},{default:t(()=>[n("ðŸ“·")]),_:1})]),_:1}),A.value?r("",!0):(i(),s(y,{key:0,class:"icon-btn wechat-login-btn",onClick:M},{default:t(()=>[c(b,{class:"icon"},{default:t(()=>[n("ðŸ’¬")]),_:1})]),_:1})),c(y,{class:"icon-btn",onClick:G},{default:t(()=>[c(b,{class:"icon"},{default:t(()=>[n("ðŸ‘¥")]),_:1})]),_:1})]),_:1})]),_:1}),c(E,{class:"content-area","scroll-y":""},{default:t(()=>[c(y,{class:"carousel-section"},{default:t(()=>[c(x,{class:"carousel","indicator-dots":!0,autoplay:!0,interval:3e3,duration:500,circular:!0,"indicator-color":"rgba(255, 255, 255, 0.3)","indicator-active-color":"#b794f6"},{default:t(()=>[(i(!0),f(m,null,h(B.value,(a,e)=>(i(),s(C,{key:e,onClick:e=>(a=>{"billiards"===a.type?j({url:"/pages/billiards/billiards"}):k({title:a.title,icon:"none"})})(a)},{default:t(()=>[c(y,{class:"carousel-item"},{default:t(()=>[c(y,{class:"carousel-content"},{default:t(()=>[c(b,{class:"carousel-title"},{default:t(()=>[n(u(a.title),1)]),_:2},1024),c(b,{class:"carousel-desc"},{default:t(()=>[n(u(a.desc),1)]),_:2},1024)]),_:2},1024),c(y,{class:"carousel-bg",style:p({background:a.bgColor})},null,8,["style"])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),c(y,{class:"highlights-section"},{default:t(()=>[c(y,{class:"section-title"},{default:t(()=>[c(b,{class:"title-text"},{default:t(()=>[n("çƒ­é—¨é›†é”¦")]),_:1})]),_:1}),c(y,{class:"waterfall-container"},{default:t(()=>[(i(!0),f(m,null,h(D.value,(a,e)=>(i(),s(y,{key:e,class:"highlight-item",style:p({height:a.height+"rpx"}),onClick:e=>(a=>{k({title:`æŸ¥çœ‹é›†é”¦ #${a.id}`,icon:"none"})})(a)},{default:t(()=>[c(w,{class:"highlight-image",src:a.image,mode:"aspectFill","lazy-load":!0,onError:e=>I(e,a,"image")},null,8,["src","onError"]),c(y,{class:"highlight-overlay"},{default:t(()=>[c(y,{class:"highlight-info"},{default:t(()=>[c(y,{class:"user-info"},{default:t(()=>[c(w,{class:"avatar",src:a.avatar,mode:"aspectFill",onError:e=>I(e,a,"avatar")},null,8,["src","onError"]),c(b,{class:"username"},{default:t(()=>[n(u(a.username),1)]),_:2},1024)]),_:2},1024),c(y,{class:"stats"},{default:t(()=>[c(y,{class:"stat-item"},{default:t(()=>[c(b,{class:"stat-icon"},{default:t(()=>[n("â¤ï¸")]),_:1}),c(b,{class:"stat-num"},{default:t(()=>[n(u(H(a.likes)),1)]),_:2},1024)]),_:2},1024),c(y,{class:"stat-item"},{default:t(()=>[c(b,{class:"stat-icon"},{default:t(()=>[n("ðŸ’¬")]),_:1}),c(b,{class:"stat-num"},{default:t(()=>[n(u(H(a.comments)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style","onClick"]))),128))]),_:1})]),_:1})]),_:1}),c(F)]),_:1})}}},[["__scopeId","data-v-35edfd02"]]);export{z as default};
