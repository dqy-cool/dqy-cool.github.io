import{r as a,k as e,a as s,w as l,i as t,o as i,b as o,m as c,F as n,p as r,n as u,d,e as m,t as g,S as h,f as v,u as k,v as f,B as _,s as p}from"./index-DjgUAJ8w.js";import{_ as L}from"./_plugin-vue_export-helper.BCo6x5W8.js";const x="/static/logo.png",y="/static/logo.png",C=L({__name:"highlights",setup(L){const C=a("all"),b=a(!1),w=a(!1),F=a([{label:"å…¨éƒ¨",value:"all"},{label:"çƒ­é—¨",value:"hot"},{label:"æœ€æ–°",value:"new"},{label:"å…³æ³¨",value:"follow"}]),E=a([{id:1,image:x,avatar:y,username:"çƒå‹A",likes:128,comments:23,height:480,isLiked:!1},{id:2,image:x,avatar:y,username:"çƒå‹B",likes:256,comments:45,height:560,isLiked:!0},{id:3,image:x,avatar:y,username:"çƒå‹C",likes:89,comments:12,height:420,isLiked:!1},{id:4,image:x,avatar:y,username:"çƒå‹D",likes:342,comments:67,height:500,isLiked:!1},{id:5,image:x,avatar:y,username:"çƒå‹E",likes:156,comments:34,height:440,isLiked:!0},{id:6,image:x,avatar:y,username:"çƒå‹F",likes:278,comments:56,height:580,isLiked:!1}]),S=a=>a>=1e4?(a/1e4).toFixed(1)+"w":a>=1e3?(a/1e3).toFixed(1)+"k":a.toString(),j=(a,e,s)=>{console.warn("å›¾ç‰‡åŠ è½½å¤±è´¥:",a,e,s),"image"===s?e.image=x:"avatar"===s&&(e.avatar=y)},B=()=>{b.value||w.value||(b.value=!0,setTimeout(()=>{b.value=!1},1e3))};return e(()=>{}),(a,e)=>{const L=d,x=t,y=f,T=h;return i(),s(x,{class:"highlights-container"},{default:l(()=>[o(x,{class:"filter-bar"},{default:l(()=>[(i(!0),c(n,null,r(F.value,(a,e)=>(i(),s(x,{key:e,class:u(["filter-item",{active:C.value===a.value}]),onClick:e=>{return s=a.value,void(C.value!==s&&(C.value=s,b.value=!0,setTimeout(()=>{b.value=!1},500)));var s}},{default:l(()=>[o(L,{class:"filter-text"},{default:l(()=>[m(g(a.label),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1}),o(T,{class:"content-scroll","scroll-y":"",onScrolltolower:B},{default:l(()=>[o(x,{class:"highlights-grid"},{default:l(()=>[(i(!0),c(n,null,r(E.value,(a,e)=>(i(),s(x,{key:a.id,class:"highlight-card",style:k({height:a.height+"rpx"}),onClick:e=>(a=>{p({title:`æŸ¥çœ‹é›†é”¦ #${a.id}`,icon:"none"})})(a)},{default:l(()=>[o(y,{class:"highlight-image",src:a.image,mode:"aspectFill","lazy-load":!0,onError:e=>j(e,a,"image")},null,8,["src","onError"]),o(x,{class:"highlight-overlay"},{default:l(()=>[o(x,{class:"highlight-info"},{default:l(()=>[o(x,{class:"user-info"},{default:l(()=>[o(y,{class:"avatar",src:a.avatar,mode:"aspectFill",onError:e=>j(e,a,"avatar")},null,8,["src","onError"]),o(L,{class:"username"},{default:l(()=>[m(g(a.username),1)]),_:2},1024)]),_:2},1024),o(x,{class:"stats"},{default:l(()=>[o(x,{class:"stat-item",onClick:_(e=>(a=>{a.isLiked?(a.likes--,a.isLiked=!1):(a.likes++,a.isLiked=!0,p({title:"å·²ç‚¹èµž",icon:"success",duration:1e3}))})(a),["stop"])},{default:l(()=>[o(L,{class:u(["stat-icon",{liked:a.isLiked}])},{default:l(()=>[m(g(a.isLiked?"â¤ï¸":"ðŸ¤"),1)]),_:2},1032,["class"]),o(L,{class:"stat-num"},{default:l(()=>[m(g(S(a.likes)),1)]),_:2},1024)]),_:2},1032,["onClick"]),o(x,{class:"stat-item",onClick:_(a=>{p({title:"æ‰“å¼€è¯„è®º",icon:"none"})},["stop"])},{default:l(()=>[o(L,{class:"stat-icon"},{default:l(()=>[m("ðŸ’¬")]),_:1}),o(L,{class:"stat-num"},{default:l(()=>[m(g(S(a.comments)),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style","onClick"]))),128))]),_:1}),b.value?(i(),s(x,{key:0,class:"loading-more"},{default:l(()=>[o(L,{class:"loading-text"},{default:l(()=>[m("åŠ è½½ä¸­...")]),_:1})]),_:1})):v("",!0),w.value?(i(),s(x,{key:1,class:"no-more"},{default:l(()=>[o(L,{class:"no-more-text"},{default:l(()=>[m("æ²¡æœ‰æ›´å¤šäº†")]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})}}},[["__scopeId","data-v-643caf4a"]]);export{C as default};
